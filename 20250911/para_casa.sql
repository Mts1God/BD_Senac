-- Matéria-prima utilizada na produção
CREATE TABLE MATERIA_PRIMA (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    NOME_MATERIAPRIMA VARCHAR2(100) NOT NULL,
    QUANTIDADE NUMBER NOT NULL
);

-- Funcionários operadores da produção
CREATE TABLE FUNCIONARIO_OPERADOR (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    NOME VARCHAR2(100) NOT NULL,
    TURNO VARCHAR2(20) NOT NULL
);

-- Receitas de concreto
CREATE TABLE RECEITAS (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    TIPO_CONCR VARCHAR2(30) NOT NULL,
    CIMENTO_KG NUMBER NOT NULL,
    AREIA_KG NUMBER NOT NULL,
    BRITA_KG NUMBER NOT NULL,
    ADITIVO_KG NUMBER NOT NULL,
    FUNCIONARIO_ID NUMBER NOT NULL REFERENCES FUNCIONARIO_OPERADOR(ID)
);

-- Lotes de produção
CREATE TABLE LOTES (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    DATA_FABRICACAO DATE NOT NULL,
    QUANTIDADE_PESO NUMBER NOT NULL,
    STATUS_PRODUCAO VARCHAR2(20) NOT NULL
);

-- Clientes e compras de lotes
CREATE TABLE CLIENTES (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    NOME_COMPRADOR VARCHAR2(100) NOT NULL,
    NOME_EMPRESA VARCHAR2(100) NOT NULL,
    LOTE_ID NUMBER NOT NULL REFERENCES LOTES(ID),
    VALOR_TOTAL NUMBER NOT NULL
);

-- Veículos de transporte
CREATE TABLE VEICULOS (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    PLACA VARCHAR2(7) NOT NULL
);

-- Informações de transporte dos lotes
CREATE TABLE TRANSPORTE (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    CLIENTE_ID NUMBER NOT NULL REFERENCES CLIENTES(ID),
    FUNCIONARIO_ID NUMBER NOT NULL REFERENCES FUNCIONARIO_OPERADOR(ID),
    LOTE_ID NUMBER NOT NULL REFERENCES LOTES(ID),
    VEICULO_ID NUMBER NOT NULL REFERENCES VEICULOS(ID)
);
